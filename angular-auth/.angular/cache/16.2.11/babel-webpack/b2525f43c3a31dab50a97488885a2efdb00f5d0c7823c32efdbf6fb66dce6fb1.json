{"ast":null,"code":"import { Router } from \"@angular/router\";\nimport { inject } from \"@angular/core\";\nimport { AuthService } from \"../Services/auth.service\";\nimport { map } from \"rxjs/operators\";\nexport const canActivate = (router, state) => {\n  const authService = inject(AuthService);\n  const route = inject(Router);\n  return authService.user.pipe(map(user => {\n    const logedIn = user ? true : false;\n    if (logedIn) {\n      return true;\n    } else {\n      return route.createUrlTree(['/login']);\n    }\n  }));\n};","map":{"version":3,"names":["Router","inject","AuthService","map","canActivate","router","state","authService","route","user","pipe","logedIn","createUrlTree"],"sources":["D:\\angular practise\\Practise\\angular-auth\\src\\app\\route-guards\\auth-guard.ts"],"sourcesContent":["import {ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree} from \"@angular/router\";\r\nimport {inject} from \"@angular/core\";\r\nimport {AuthService} from \"../Services/auth.service\";\r\nimport {map} from \"rxjs/operators\";\r\nimport {Observable} from \"rxjs\";\r\n\r\nexport const canActivate = (\r\n    router: ActivatedRouteSnapshot, state: RouterStateSnapshot\r\n): boolean | UrlTree | Promise<boolean> | Observable<boolean | UrlTree> => {\r\n    const authService = inject(AuthService);\r\n    const route = inject(Router);\r\n\r\n    return authService.user.pipe(map((user) => {\r\n        const logedIn = user ? true : false;\r\n\r\n        if (logedIn) {\r\n            return true;\r\n        } else {\r\n            return route.createUrlTree(['/login']);\r\n        }\r\n    }));\r\n}\r\n"],"mappings":"AAAA,SAAgCA,MAAM,QAAqC,iBAAiB;AAC5F,SAAQC,MAAM,QAAO,eAAe;AACpC,SAAQC,WAAW,QAAO,0BAA0B;AACpD,SAAQC,GAAG,QAAO,gBAAgB;AAGlC,OAAO,MAAMC,WAAW,GAAGA,CACvBC,MAA8B,EAAEC,KAA0B,KACY;EACtE,MAAMC,WAAW,GAAGN,MAAM,CAACC,WAAW,CAAC;EACvC,MAAMM,KAAK,GAAGP,MAAM,CAACD,MAAM,CAAC;EAE5B,OAAOO,WAAW,CAACE,IAAI,CAACC,IAAI,CAACP,GAAG,CAAEM,IAAI,IAAI;IACtC,MAAME,OAAO,GAAGF,IAAI,GAAG,IAAI,GAAG,KAAK;IAEnC,IAAIE,OAAO,EAAE;MACT,OAAO,IAAI;KACd,MAAM;MACH,OAAOH,KAAK,CAACI,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAE9C,CAAC,CAAC,CAAC;AACP,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}